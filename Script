--// Danttx Hub Anti-Hit Funcional Todo en Uno
--// Uso personal en tu juego

local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "DanttxHub"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Marco principal
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 250, 0, 150)
frame.Position = UDim2.new(0.5, -125, 0.5, -75)
frame.BackgroundTransparency = 0.3
frame.BackgroundColor3 = Color3.fromRGB(20,20,20)
frame.Active = true
frame.Draggable = true
frame.Parent = gui
Instance.new("UICorner", frame)

-- T√≠tulo
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,30)
title.BackgroundTransparency = 1
title.Text = "Danttx Hub"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.TextScaled = true
title.Font = Enum.Font.GothamBold
title.Parent = frame

-- Bot√≥n Anti-Hit
local antiBtn = Instance.new("TextButton")
antiBtn.Size = UDim2.new(0.8,0,0,40)
antiBtn.Position = UDim2.new(0.1,0,0.3,0)
antiBtn.BackgroundColor3 = Color3.fromRGB(180,0,0)
antiBtn.Text = "üß† Anti-Hit (OFF)"
antiBtn.TextColor3 = Color3.fromRGB(255,255,255)
antiBtn.TextScaled = true
antiBtn.Font = Enum.Font.Gotham
antiBtn.AutoButtonColor = true
Instance.new("UICorner", antiBtn)
antiBtn.Parent = frame

-- Bot√≥n Cerrar
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0.8,0,0,40)
closeBtn.Position = UDim2.new(0.1,0,0.65,0)
closeBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
closeBtn.Text = "‚ùå Cerrar"
closeBtn.TextColor3 = Color3.fromRGB(255,255,255)
closeBtn.TextScaled = true
closeBtn.Font = Enum.Font.Gotham
Instance.new("UICorner", closeBtn)
closeBtn.Parent = frame

-- Bot√≥n Abrir
local openBtn = Instance.new("TextButton")
openBtn.Size = UDim2.new(0,100,0,40)
openBtn.Position = UDim2.new(0,20,0,20)
openBtn.BackgroundTransparency = 0.3
openBtn.BackgroundColor3 = Color3.fromRGB(20,20,20)
openBtn.Text = "üìÇ Abrir Hub"
openBtn.TextColor3 = Color3.fromRGB(255,255,255)
openBtn.TextScaled = true
openBtn.Font = Enum.Font.Gotham
Instance.new("UICorner", openBtn)
openBtn.Parent = gui
openBtn.Visible = false

closeBtn.MouseButton1Click:Connect(function()
	frame.Visible = false
	openBtn.Visible = true
end)
openBtn.MouseButton1Click:Connect(function()
	frame.Visible = true
	openBtn.Visible = false
end)

-- Estado Anti-Hit
local antiOn = false
local function updateButton()
	if antiOn then
		antiBtn.BackgroundColor3 = Color3.fromRGB(0,180,0)
		antiBtn.Text = "üß† Anti-Hit (ON)"
	else
		antiBtn.BackgroundColor3 = Color3.fromRGB(180,0,0)
		antiBtn.Text = "üß† Anti-Hit (OFF)"
	end
end
updateButton()

-- Funci√≥n Anti-Hit
local function activateAntiHit(state)
	antiOn = state
	_G.AntiHitActive = state -- para Boogie Bomb
	updateButton()

	local char = player.Character or player.CharacterAdded:Wait()
	local humanoid = char:WaitForChild("Humanoid")
	local backpack = player:WaitForChild("Backpack")

	-- Buscar Quantum Cloner y equipar
	local cloner = backpack:FindFirstChild("Quantum Cloner")
	if not cloner then
		-- Esperar a que aparezca en Backpack
		cloner = backpack.ChildAdded:Wait()
		while cloner.Name ~= "Quantum Cloner" do
			cloner = backpack.ChildAdded:Wait()
		end
	end

	if state and cloner then
		-- Equipar herramienta
		humanoid:EquipTool(cloner)
		task.wait(0.2)

		-- Activar clon
		cloner:Activate()

		-- Esperar a que el clon aparezca en Workspace
		local clone
		repeat
			clone = workspace:FindFirstChild(player.Name.."_Clone") or workspace:FindFirstChild("Clone")
			task.wait(0.1)
		until clone and clone:FindFirstChild("HumanoidRootPart")

		-- Teletransportarse al clon
		char:SetPrimaryPartCFrame(clone.HumanoidRootPart.CFrame + Vector3.new(0,3,0))

		-- Desincronizar hitbox
		for _, part in ipairs(char:GetDescendants()) do
			if part:IsA("BasePart") then
				part.CanCollide = false
				part.Massless = true
			end
		end
	else
		-- Restaurar hitbox al desactivar
		for _, part in ipairs(char:GetDescendants()) do
			if part:IsA("BasePart") then
				part.CanCollide = true
				part.Massless = false
			end
		end
	end
end

antiBtn.MouseButton1Click:Connect(function()
	activateAntiHit(not antiOn)
end)

-- Protecci√≥n Boogie Bomb
task.spawn(function()
	while true do
		local boogie = player:FindFirstChild("BoogieScript", true)
		if boogie and boogie:IsA("Script") then
			local env = getfenv(boogie)
			local oldFunc = env.onActivate
			env.onActivate = function(...)
				if _G.AntiHitActive then
					print("üß† Boogie Bomb bloqueada por Anti-Hit")
					return
				end
				if oldFunc then oldFunc(...) end
			end
		end
		task.wait(1)
	end
end)
